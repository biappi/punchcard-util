import Foundation

extension Transcoder {

    // Table 4 - IBM card code and equivalent symbol (LS 600, pag. 114)
    static let ibmCardTable = [
        // Group 0
        ("0   ", "0"),
        ("0  1", "/"),
        ("0  2", "S"),
        ("0  3", "T"),
        ("0  4", "U"),
        ("0  5", "V"),
        ("0  6", "W"),
        ("0  7", "X"),
        ("0  8", "Y"),
        ("0  9", "Z"),
        ("0 82", "←"),
        ("0 83", ","),
        ("0 84", "%"),
        ("0 85", "="),
        ("0 86", "\""),
        ("0 87", "!"),

        // No group punches
        ("    ", "β"),
        ("   1", "1"),
        ("   2", "2"),
        ("   3", "3"),
        ("   4", "4"),
        ("   5", "5"),
        ("   6", "6"),
        ("   7", "7"),
        ("   8", "8"),
        ("   9", "9"),
        ("  82", "["),
        ("  83", "#"),
        ("  84", "@"),
        ("  85", ":"),
        ("  86", ">"),
        ("  87", "?"),

        // Group 12 (X)
        ("X   ", "&"),
        ("X  1", "A"),
        ("X  2", "B"),
        ("X  3", "C"),
        ("X  4", "D"),
        ("X  5", "E"),
        ("X  6", "F"),
        ("X  7", "G"),
        ("X  8", "H"),
        ("X  9", "I"),
        // ("X 82", " "),
        ("X 83", "."),
        ("X 84", "]"),
        ("X 85", "("),
        ("X 86", "<"),
        ("X 87", "\\"),

        // Group 11 (U)
        ("U   ", "-"),
        ("U  1", "J"),
        ("U  2", "K"),
        ("U  3", "L"),
        ("U  4", "M"),
        ("U  5", "N"),
        ("U  6", "O"),
        ("U  7", "P"),
        ("U  8", "Q"),
        ("U  9", "R"),
        //  (  "U 82", ""),
        ("U 83", "$"),
        ("U 84", "*"),
        ("U 85", ")"),
        ("U 86", ";"),
        ("U 87", "'"),

        // Punches 12/0 and 11/0 (X0 and U0)
        ("X0", "+"),
        ("U0", "↑")
    ]

    // Table 6 - IBM card code and equivalent symbol (LS 600, pag. 115)
    static let bullCardTable = [
        // Group 7
        ("7  U", "A"),
        ("7  0", "B"),
        ("7  1", "C"),
        ("7  2", "D"),
        ("7  3", "E"),
        ("7  4", "F"),
        ("7  5", "G"),
        ("7  6", "H"),
        ("7  X", "O"),
        ("7   ", "7"),

        // Group 8
        ("8  U", "J"),
        ("8  0", "K"),
        ("8  1", "L"),
        ("8  2", "M"),
        ("8  3", "N"),
        ("8  4", "P"),
        ("8  5", "Q"),
        ("8  6", "R"),
        ("8  X", "I"),
        ("8   ", "8"),

        // Group 9
        ("9  U", "S"),
        ("9  0", "T"),
        ("9  1", "U"),
        ("9  2", "V"),
        ("9  3", "W"),
        ("9  4", "X"),
        ("9  5", "Y"),
        ("9  6", "Z"),
        ("9  X", "'"),
        ("9   ", "9"),

        // No punch group
        ("   U", "."),
        ("   0", "0"),
        ("   1", "1"),
        ("   2", "2"),
        ("   3", "3"),
        ("   4", "4"),
        ("   5", "5"),
        ("   6", "6"),
        ("   X", "*"),
        ("    ", "β"),

        // 9/8 group
        ("98 U", ","),
        ("98 0", "("),
        ("98 1", ")"),
        ("98 2", "-"),
        ("98 3", "+"),
        ("98 4", "]"),
        ("98 5", "?"),
        ("98 6", "@"),
        ("98 X", ">"),
        ("98  ", "="),

        // 9/7 group
        ("97 U", "\\"),
        ("97 0", "#"),
        ("97 1", ":"),
        ("97 2", "←"),
        ("97 3", "\""),
        ("97 4", "%"),
        ("97 5", "&"),
        ("97 6", ";"),
        ("97 X", "$"),
        ("97  ", "/"),

        // 0 group
        ("0  U", "↑"),
        ("0  X", "!"),

        // 1 group
        ("1  U", "↑"),
        ("1  X", "!"),
    ]

    static let hexTable = [
        "  0",
        "  1",
        "  2",
        "  3",
        "  4",
        "  5",
        "  6",
        "  7",
        "  8",
        "  9",
        " 82",
        " 83",
        " 84",
        " 85",
        " 86",
        " 87",
    ]
    
    // Table 3 - IBM card code and internal GECD code
    static let ibmCardCodeTable = [
        (0b0100_0000, hexTable),

        (0b0101_0000, [
            "   ",
            "X 1",
            "X 2",
            "X 3",
            "X 4",
            "X 5",
            "X 6",
            "X 7",
            "X 8",
            "X 9",
            "X ",
            "X83",
            "X84",
            "X85",
            "X86",
            "X87",
        ]),

        (0b1010_0000, [
            "S 0",
            "S 1",
            "S 2",
            "S 3",
            "S 4",
            "S 5",
            "S 6",
            "S 7",
            "S 8",
            "S 9",
            "S  ",
            "S83",
            "S84",
            "S85",
            "S86",
            "S87",
        ]),

        (0b1011_0000, [
            "S 0",
            "S 1",
            "S 2",
            "S 3",
            "S 4",
            "S 5",
            "S 6",
            "S 7",
            "S 8",
            "S 9",
            "S  ",
            "S83",
            "S84",
            "S85",
            "S86",
            "S87",
        ]),
    ]
}
